<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8"> 
  <title>算出プロパティ</title>
</head>
<body>
  <div id="app">
    <button-counter></button-counter>
    <button-counter></button-counter>
    <button-counter></button-counter>
  </div>

  <div id="app2">
    <!-- 親コンポーネントはmessage属性として値を渡す-->
    <hello-world message="Hello Vue"></hello-world>
  </div>


  <div id="app3">
    <!-- v-modelで入力値と親コンポーネントのinputTextを同期 -->
    <input type="text" v-model="inputText">
    <!-- v-bindの値にdataプロパティのinputTextを設定 -->
    <!-- inputTextの値は子コンポーネントに渡される -->
    <hello-world v-bind:message="inputText"></hello-world>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script>
    // どこでも使えるグローバルcomponent
    Vue.component('hello-world', {
      template: `<h1>Hello World and {{ message }}</h1>`,
      // 親から子へのデータの受け渡しはpropsを使用
      // ここでは親がhello-worldのコンポーネントを使ったVueインスタンス
      props: ['message']
    })

    // 複数のコンポーネントについては、それぞれが独立した別物として作成される
    // countの値もそれぞれのコンポーネントで別々の値を保持することができる
    Vue.component('button-counter', {
      template: '<p>カウント: {{ count }} <button v-on:click="countUp">Up</button><button v-on:click="countDown">Down</button></p>',
      data: function(){
        return {
          count: 0
        }
      },
      methods: {
        countUp: function(){
          this.count ++
        },
        countDown: function(){
          this.count --
        },
      }
    })

    var app = new Vue({
      el: '#app'
    })

    // app2のVueインスタンス内のみで使えるローカルなcomponent
    var app2 = new Vue({
      el: '#app2',
      components: {
        'hello-view': {
          template: '<h1>Hello View</h1>'
        }
      }
    })

    // inputTextを親コンポーネントのdataに追加
    var app3 = new Vue({
      el: '#app3',
      data: {
        inputText: ''
      }
    })
  </script>
</body>
</html>